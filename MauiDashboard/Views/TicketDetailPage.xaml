<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TicketSystem.Maui.Views.TicketDetailPage"
             Title="Detalle del Ticket"
             BackgroundColor="{StaticResource BackgroundLight}">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">
            
            <Border StrokeShape="RoundRectangle 12" Stroke="#E2E8F0" StrokeThickness="1" BackgroundColor="White" Padding="20">
                <VerticalStackLayout Spacing="15">
                     <Grid ColumnDefinitions="*, Auto">
                        <Label Grid.Column="0" Text="{Binding Ticket.Titulo}" FontSize="20" FontAttributes="Bold" TextColor="{StaticResource TextPrimary}" />
                        <Label Grid.Column="1" Text="{Binding Ticket.Id, StringFormat='#{0}'}" FontSize="14" TextColor="{StaticResource TextSecondary}" />
                     </Grid>

                    <BoxView HeightRequest="1" Color="#E2E8F0" />

                    <VerticalStackLayout Spacing="5">
                        <Label Text="CLIENTE" FontSize="11" FontAttributes="Bold" TextColor="{StaticResource Tertiary}" />
                        <Label Text="{Binding Ticket.ClienteNombre}" FontSize="16" TextColor="{StaticResource TextPrimary}" />
                    </VerticalStackLayout>

                    <VerticalStackLayout Spacing="5">
                        <Label Text="DESCRIPCIÃ“N" FontSize="11" FontAttributes="Bold" TextColor="{StaticResource Tertiary}" />
                        <Label Text="{Binding Ticket.Descripcion}" FontSize="15" LineHeight="1.2" TextColor="{StaticResource TextSecondary}" />
                    </VerticalStackLayout>

                     <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Margin="0,10,0,0">
                        <VerticalStackLayout Spacing="5">
                            <Label Text="ESTADO" FontSize="11" FontAttributes="Bold" TextColor="{StaticResource Tertiary}" />
                            <Label Text="{Binding Ticket.Estado}" FontSize="16" FontAttributes="Bold" TextColor="{StaticResource TextPrimary}" />
                        </VerticalStackLayout>
                        <VerticalStackLayout Spacing="5">
                            <Label Text="PRIORIDAD" FontSize="11" FontAttributes="Bold" TextColor="{StaticResource Tertiary}" />
                            <Label Text="{Binding Ticket.Prioridad}" FontSize="16" FontAttributes="Bold" TextColor="{StaticResource TextPrimary}" />
                        </VerticalStackLayout>
                     </Grid>
                </VerticalStackLayout>
            </Border>

            <Label Text="Acciones" FontSize="14" FontAttributes="Bold" TextColor="{StaticResource TextSecondary}" Margin="0,10,0,0" />
            
            <Button Text="Marcar En Proceso" 
                    BackgroundColor="{StaticResource StatusEnProceso}" 
                    TextColor="{StaticResource StatusEnProcesoText}"
                    FontAttributes="Bold"
                    CornerRadius="8"
                    Clicked="OnEnProcesoClicked" />
            
            <Button Text="Cerrar Ticket" 
                    BackgroundColor="{StaticResource StatusCerrado}" 
                    TextColor="{StaticResource StatusCerradoText}"
                    FontAttributes="Bold"
                    CornerRadius="8"
                    Clicked="OnCerrarClicked" />

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
